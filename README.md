# Advantech WISE Devices System Log Analyzer

**Version:** v0.8 (2026-02-06)

## Overview
The **Advantech WISE Devices System Log Analyzer** is a web-based tool designed to parse, visualize, and analyze system logs generated by Advantech WISE series IoT devices. It transforms raw JSON log data into a readable, structured table format, providing engineers and developers with quick insights into device behavior, errors, and events.

## Key Features
- **Smart Auto-Detection:** Automatically identifies product series (LoRa, NB-IoT, Wi-Fi, LAN) based on log UID.
- **Multi-Protocol Support:** Dedicated parsers for different product series:
  - **WiFi** (WISE-4000 series)
  - **LoRaWAN** (WISE-4610, WISE-2200, etc.)
  - **NB-IoT** (WISE-4471, WISE-4671)
  - **LAN** (Ethernet-based devices)
- **Interactive UI:** 
  - **Drag & Drop Upload:** Easily load `.json` log files.
  - **Dark Mode Design:** Modern, high-contrast interface for better readability.
- **Advanced Parsing:**
  - Decodes generic and protocol-specific Payload Events (PE).
  - **Advanced Tooltips:** Displays context-aware information (e.g., "Manual Power Off" for PE 7).
  - **UID/MAC Display:** Prominently shows device identity at the top.
- **Utilities:**
  - **CSV Export:** Export parsed logs to CSV for further analysis.
 
## Docs and Links
-   Original project: https://github.com/jim6501/Advantech-WISE-Devices-System-Log-Analyzer
-   Project demo: https://jim6501.github.io/Advantech-WISE-Devices-System-Log-Analyzer/

## Usage
1.  Open `index.html` in a modern web browser (Chrome, Edge, Firefox).
2.  **Upload a Log File:**
    - Click the "Click to choose or Drag & drop" area to select a file.
    - Or drag a `.json` log file directly into the zone.
    - **Note:** The tool attempts to auto-detect the product series based on the device UID.
3.  **Analyze Data:**
    - View the parsed logs in the table.
    - Use the **Search** bar or **Event Type** dropdown to narrow down results.
    - Hover over the `!` icon in the **Info** column for detailed event descriptions.
4.  **Reset/Export:**
    - Click **Clear Results** to reset the view.
    - Click **Export CSV** to save current results.


## Offline / Portable Usage
This tool works entirely within the browser and does not require an internet connection once loaded.
For easier distribution, you can generate a **Single File Version** (`.html`) that bundles all scripts, styles, and images.

**To build the portable version:**
1.  Ensure you have Node.js installed.
2.  Run `node build.js`.
3.  The single file will be generated in `portable/wise_log_analyzer_v0.8.html`.
4.  You can share this `.html` file with anyone to use offline.

## Project Structure
- `index.html`: Main application entry point and UI layout.
- `style.css`: Global styles (Dark mode, responsive design).
- `script.js`: Core application logic (UI interaction, file handling, table rendering).
- `parser.js`: Central parser controller and registry for common event descriptions.
- `parsers/`: Directory containing protocol-specific parser modules:
  - `wifi_parser.js`
  - `lora_parser.js`
  - `nbiot_parser.js`
  - `lan_parser.js`
- `doc/`: Documentation files (e.g., `system_log.md` for PE definitions).

## Release Notes
### v0.8
- **Auto-Detection:** Automatically selects the correct parser (LoRa, NB-IoT, Wi-Fi/LAN) based on the device UID found in the log file.
- **Improved UX:** Changing the "Product Series" dropdown now re-parses existing logs instead of clearing them, allowing for easy correction if manual selection is needed.
- **Bug Fixes:** Cleaned up parser logic and fixed duplicate validation cases in LAN parser.

### v0.3
- **Enhanced WiFi Parsing:** Added detailed RF Fatal Error (0x0E) analysis with specific troubleshooting advice (DHCP, Password, Stability).
- **UI UX Improvements:**
  - **Global Tooltips:** Replaced CSS tooltips with smart JS-based tooltips that never get clipped and auto-position.
  - **Floating Flow Button:** Converted the "Show Disconnection Flow" button into a persistent floating action button (FAB) for better accessibility.
- **Smart Filtering:** Combined filtering by Event Type and partial keyword search (Description/Details/Raw) for precise log analysis.
- **UI Refinement:** Moved version number to footer ("WISE System Log Analyzer v0.3") for a cleaner header.
- **Documentation:** Added detailed error descriptions to the parser logic.

### v0.1 (Initial Release)
- Basic log parsing infrastructure.
- implementations for WiFi, LoRa, NB-IoT, and LAN parsers.
- UI improvements (Dark mode, Drag & Drop).
- Dynamic Info column logic.
- CSV Export functionality.
